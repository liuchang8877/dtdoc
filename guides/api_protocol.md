
## 调用协议说明

目前DT开放平台使用HTTP/1.1协议作为调用协议，若具体API文档没有额外说明则皆使用此协议调用。

## 调用入口

**具体API文档中所有的调用入口均以此处地址为准，开发者根据调用环境选择对应的调用地址。**

| 调用环境 |   服务地址(HTTP)   |              服务地址(HTTPS)           | 说明 |简称|
| --------------------------- | --------------------------------- | ------------------------------------ |------------------------------------ |------------------------------|
|  公司内开发环境环境  | http://192.168.113.165:8887 | 暂无                | |T1|
|  公司内稳定测试环境  | http://192.168.113.166 | 暂无                | |T2|
|  阿里云预发布环境  | http://dt-t3.newcapec.cn/| https://dt-t3.newcapec.cn/                | |T3|
|  阿里云生产环境  | 暂无 | 暂无               | |P1|

## 公共参数

### 公共请求参数

#### 请求头参数

即HTTP Request中的Header部分中所需的公共参数，如下表所示。

| 属性名称 |   属性值   |              必填范围           | 参数描述 |
| ------------ | --------------------------------- | ------------------------------------ |------------------------------------ |
| x-deepcloud-from   | client |     调用入口/api/、调用入口/file/            | 表示请求来源，固定值client|
| Authorization   | access_token |     获取用户资源时必填用户授权access_token，调用应用级能力时必填应用access_token            | 表示access_token|


### 公共响应参数

本部分介绍的公共响应参数在具体API文档中将不再重复说明。

##### 响应样例

```
{
  "code" : 200,
  "message" : "OK",
  "data" : {
    "guid" : "1177499161797332994",
    "avatar" : "avatar/images/1.jpg",
    "customerCode" : "55",
    "language" : "zh_CN",
    "merged" : true,
    "mergedGuid" : ["1156120315407908866","1156120315407908867"],
    "nickName" : "张三",
    "role" : 1,
    "sex" : "male"
  }
}
```

| 参数名称 |   参数类型   |              是否必返回           | 参数描述 |
| ------------ | --------------------------------- | ------------------------------------ |------------------------------------ |
| code   | integer (int32) |     是            | 意义同HTTP状态码 |
| message   | string |     是            | 响应提示信息|
| data   | 由具体API的说明文档定义 |     是            | API响应内容，其类型及包含参数由具体API的文档定义|

## MQ资源

| 调用环境 |   服务地址(TCP)          | 类型 |说明 |
| ------------ | --------------------------------- |------------------------------------ |------------------------------------ |
|  T1、T2  | 192.168.113.164:9876               |RocketMQ |不需要用户名密码 |

## 注意事项

- 所有的请求和响应数据编码皆为utf-8格式，URL里的所有参数名和参数值请做URL编码。

- 如果请求的Content-Type是application/x-www-form-urlencoded，则HTTP Body体里的所有参数值也做URL编码；如果是multipart/form-data格式，每个表单字段的参数值无需编码,但每个表单字段的charset部分需要指定为utf-8。


